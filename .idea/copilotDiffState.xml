<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/SYUcap/src/main/java/com/SYUcap/SYUcap/Board/BoardController.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/SYUcap/src/main/java/com/SYUcap/SYUcap/Board/BoardController.java" />
              <option name="originalContent" value="package com.SYUcap.SYUcap.Board;&#10;&#10;import lombok.RequiredArgsConstructor;&#10;import org.springframework.format.annotation.DateTimeFormat;&#10;import org.springframework.security.core.Authentication;&#10;import org.springframework.stereotype.Controller;&#10;import org.springframework.ui.Model;&#10;import org.springframework.web.bind.annotation.*;&#10;&#10;import java.net.URLEncoder;&#10;import java.nio.charset.StandardCharsets;&#10;import java.time.LocalDateTime;&#10;import java.util.List;&#10;import java.util.Optional;&#10;&#10;import com.SYUcap.SYUcap.User.UserRepository;&#10;import com.SYUcap.SYUcap.User.CustomUser;&#10;import com.SYUcap.SYUcap.Group.GroupService;&#10;import com.SYUcap.SYUcap.Group.Groups;&#10;import com.SYUcap.SYUcap.JoinRequest.JoinRequestService;&#10;&#10;@Controller&#10;@RequiredArgsConstructor&#10;@RequestMapping(&quot;/board&quot;)&#10;public class BoardController {&#10;&#10;    private final BoardService boardService;&#10;    private final UserRepository userRepository;&#10;    private final GroupService groupService;&#10;    private final JoinRequestService joinRequestService;&#10;&#10;    /** 전체 목록 */&#10;    @GetMapping&#10;    public String listAll(Model model) {&#10;        List&lt;Board&gt; boards = boardService.getAllSorted();&#10;        model.addAttribute(&quot;active&quot;, &quot;home&quot;);&#10;        model.addAttribute(&quot;category&quot;, &quot;전체&quot;);&#10;        model.addAttribute(&quot;posts&quot;, boards);&#10;        return &quot;board-list&quot;;&#10;    }&#10;&#10;    /** 카테고리별 목록 */&#10;    @GetMapping(&quot;/{cat}&quot;)&#10;    public String listByCategory(@PathVariable(&quot;cat&quot;) String cat, Model model) {&#10;        List&lt;Board&gt; boards = boardService.getByCategorySorted(cat);&#10;        model.addAttribute(&quot;active&quot;, &quot;home&quot;);&#10;        model.addAttribute(&quot;category&quot;, cat);&#10;        model.addAttribute(&quot;posts&quot;, boards);&#10;        return &quot;board-list&quot;;&#10;    }&#10;&#10;    /** 글쓰기 폼 */&#10;    @GetMapping(&quot;/{cat}/write&quot;)&#10;    public String writeForm(@PathVariable(&quot;cat&quot;) String cat, Model model, Authentication auth) {&#10;        model.addAttribute(&quot;active&quot;, &quot;home&quot;);&#10;        model.addAttribute(&quot;category&quot;, cat);&#10;        String authorName = null;&#10;        if (auth != null &amp;&amp; auth.getPrincipal() instanceof CustomUser cu) {&#10;            authorName = cu.getUserName();&#10;        }&#10;        model.addAttribute(&quot;authorName&quot;, authorName);&#10;        model.addAttribute(&quot;post&quot;, new Board());&#10;        model.addAttribute(&quot;isEdit&quot;, false);  // 새 글 작성&#10;        return &quot;board-form&quot;;&#10;    }&#10;&#10;    /** 저장 */&#10;    @PostMapping(&quot;/{cat}/write&quot;)&#10;    public String writeSubmit(&#10;            @PathVariable(&quot;cat&quot;) String cat,&#10;            @RequestParam String title,&#10;            @RequestParam String content,&#10;            @RequestParam(required = false) String location,&#10;            @RequestParam(required = false) @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME) LocalDateTime meetingStartTime,&#10;            @RequestParam(required = false) @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME) LocalDateTime meetingEndTime,&#10;            @RequestParam(required = false) Integer limitCount,&#10;            Authentication auth&#10;    ) {&#10;        // 로그인 사용자 정보(Authentication) 전달하여 작성자 연결&#10;        boardService.createPost(cat, title, content, location, meetingStartTime, meetingEndTime, limitCount, auth);&#10;        String encodedCat = URLEncoder.encode(cat, StandardCharsets.UTF_8);&#10;        return &quot;redirect:/board/&quot; + encodedCat; // 저장 후 목록으로&#10;    }&#10;&#10;    /** 글 상세 보기 */&#10;    @GetMapping(&quot;/{cat}/{id}&quot;)&#10;    public String detail(@PathVariable String cat, @PathVariable Long id, Model model,Authentication auth) {&#10;        Board board = boardService.getById(id); // 존재하지 않으면 예외&#10;        if (!cat.equals(board.getCategory())) {&#10;            // URL의 카테고리와 실제 글의 카테고리가 다르면 해당 카테고리로 리다이렉트&#10;            return &quot;redirect:/board/&quot; + board.getCategory() + &quot;/&quot; + id;&#10;        }&#10;        model.addAttribute(&quot;active&quot;, &quot;home&quot;);&#10;        model.addAttribute(&quot;category&quot;, cat);&#10;        model.addAttribute(&quot;post&quot;, board);&#10;&#10;        Optional&lt;Groups&gt; groupOpt = groupService.getGroupByBoardId(id);&#10;        if (groupOpt.isPresent()) {&#10;            Groups group = groupOpt.get();&#10;            model.addAttribute(&quot;group&quot;, group);&#10;&#10;            // 로그인한 경우 사용자 상태 확인&#10;            if (auth != null &amp;&amp; auth.getPrincipal() instanceof CustomUser) {&#10;                CustomUser currentUser = (CustomUser) auth.getPrincipal();&#10;                boolean isMember = groupService.isMember(currentUser.getId(), group.getId());&#10;                boolean isLeader = groupService.isLeader(currentUser.getId(), group.getId());&#10;                boolean hasPendingRequest = joinRequestService.hasPendingRequest(currentUser.getId(), group.getId());&#10;&#10;                model.addAttribute(&quot;isMember&quot;, isMember);&#10;                model.addAttribute(&quot;isLeader&quot;, isLeader);&#10;                model.addAttribute(&quot;hasPendingRequest&quot;, hasPendingRequest);&#10;            }&#10;        }&#10;        return &quot;board-detail&quot;;&#10;    }&#10;&#10;    /** 글 수정 폼 */&#10;    @GetMapping(&quot;/{cat}/{id}/edit&quot;)&#10;    public String editForm(@PathVariable String cat, @PathVariable Long id, Model model, Authentication auth) {&#10;        Board board = boardService.getById(id);&#10;        if (!cat.equals(board.getCategory())) {&#10;            return &quot;redirect:/board/&quot; + board.getCategory() + &quot;/&quot; + id + &quot;/edit&quot;;&#10;        }&#10;        model.addAttribute(&quot;active&quot;, &quot;home&quot;);&#10;        model.addAttribute(&quot;category&quot;, cat);&#10;        model.addAttribute(&quot;post&quot;, board);&#10;        model.addAttribute(&quot;authorName&quot;, board.getAuthorName());&#10;        model.addAttribute(&quot;isEdit&quot;, true);  // 수정 모드&#10;        return &quot;board-form&quot;;&#10;    }&#10;&#10;    /** 글 수정 처리 */&#10;    @PostMapping(&quot;/{cat}/{id}/edit&quot;)&#10;    public String editSubmit(&#10;            @PathVariable String cat,&#10;            @PathVariable Long id,&#10;            @RequestParam String title,&#10;            @RequestParam String content,&#10;            @RequestParam(required = false) String location,&#10;            @RequestParam(required = false) @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME) LocalDateTime meetingStartTime,&#10;            @RequestParam(required = false) @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME) LocalDateTime meetingEndTime,&#10;            @RequestParam(required = false) Integer limitCount&#10;    ) {&#10;        boardService.updatePost(id, title, content, location, meetingStartTime, meetingEndTime, limitCount);&#10;        String encodedCat = URLEncoder.encode(cat, StandardCharsets.UTF_8);&#10;        return &quot;redirect:/board/&quot; + encodedCat + &quot;/&quot; + id; // 수정 후 상세페이지로&#10;    }&#10;&#10;    /** 글 삭제 */&#10;    @PostMapping(&quot;/{cat}/{id}/delete&quot;)&#10;    public String delete(@PathVariable String cat, @PathVariable Long id) {&#10;        boardService.delete(id);&#10;        String encodedCat = URLEncoder.encode(cat, StandardCharsets.UTF_8);&#10;        return &quot;redirect:/board/&quot; + encodedCat;&#10;    }&#10;}" />
              <option name="updatedContent" value="package com.SYUcap.SYUcap.Board;&#10;&#10;import lombok.RequiredArgsConstructor;&#10;import org.springframework.format.annotation.DateTimeFormat;&#10;import org.springframework.security.core.Authentication;&#10;import org.springframework.stereotype.Controller;&#10;import org.springframework.ui.Model;&#10;import org.springframework.web.bind.annotation.*;&#10;&#10;import java.net.URLEncoder;&#10;import java.nio.charset.StandardCharsets;&#10;import java.time.LocalDateTime;&#10;import java.util.List;&#10;import java.util.Optional;&#10;&#10;import com.SYUcap.SYUcap.User.UserRepository;&#10;import com.SYUcap.SYUcap.User.CustomUser;&#10;import com.SYUcap.SYUcap.Group.GroupService;&#10;import com.SYUcap.SYUcap.Group.Groups;&#10;import com.SYUcap.SYUcap.JoinRequest.JoinRequestService;&#10;import com.SYUcap.SYUcap.Comment.CommentService;&#10;&#10;@Controller&#10;@RequiredArgsConstructor&#10;@RequestMapping(&quot;/board&quot;)&#10;public class BoardController {&#10;&#10;    private final BoardService boardService;&#10;    private final UserRepository userRepository;&#10;    private final GroupService groupService;&#10;    private final JoinRequestService joinRequestService;&#10;    private final CommentService commentService; // 댓글 서비스 주입&#10;&#10;    /** 전체 목록 */&#10;    @GetMapping&#10;    public String listAll(Model model) {&#10;        List&lt;Board&gt; boards = boardService.getAllSorted();&#10;        model.addAttribute(&quot;active&quot;, &quot;home&quot;);&#10;        model.addAttribute(&quot;category&quot;, &quot;전체&quot;);&#10;        model.addAttribute(&quot;posts&quot;, boards);&#10;        return &quot;board-list&quot;;&#10;    }&#10;&#10;    /** 카테고리별 목록 */&#10;    @GetMapping(&quot;/{cat}&quot;)&#10;    public String listByCategory(@PathVariable(&quot;cat&quot;) String cat, Model model) {&#10;        List&lt;Board&gt; boards = boardService.getByCategorySorted(cat);&#10;        model.addAttribute(&quot;active&quot;, &quot;home&quot;);&#10;        model.addAttribute(&quot;category&quot;, cat);&#10;        model.addAttribute(&quot;posts&quot;, boards);&#10;        return &quot;board-list&quot;;&#10;    }&#10;&#10;    /** 글쓰기 폼 */&#10;    @GetMapping(&quot;/{cat}/write&quot;)&#10;    public String writeForm(@PathVariable(&quot;cat&quot;) String cat, Model model, Authentication auth) {&#10;        model.addAttribute(&quot;active&quot;, &quot;home&quot;);&#10;        model.addAttribute(&quot;category&quot;, cat);&#10;        String authorName = null;&#10;        if (auth != null &amp;&amp; auth.getPrincipal() instanceof CustomUser cu) {&#10;            authorName = cu.getUserName();&#10;        }&#10;        model.addAttribute(&quot;authorName&quot;, authorName);&#10;        model.addAttribute(&quot;post&quot;, new Board());&#10;        model.addAttribute(&quot;isEdit&quot;, false);  // 새 글 작성&#10;        return &quot;board-form&quot;;&#10;    }&#10;&#10;    /** 저장 */&#10;    @PostMapping(&quot;/{cat}/write&quot;)&#10;    public String writeSubmit(&#10;            @PathVariable(&quot;cat&quot;) String cat,&#10;            @RequestParam String title,&#10;            @RequestParam String content,&#10;            @RequestParam(required = false) String location,&#10;            @RequestParam(required = false) @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME) LocalDateTime meetingStartTime,&#10;            @RequestParam(required = false) @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME) LocalDateTime meetingEndTime,&#10;            @RequestParam(required = false) Integer limitCount,&#10;            Authentication auth&#10;    ) {&#10;        // 로그인 사용자 정보(Authentication) 전달하여 작성자 연결&#10;        boardService.createPost(cat, title, content, location, meetingStartTime, meetingEndTime, limitCount, auth);&#10;        String encodedCat = URLEncoder.encode(cat, StandardCharsets.UTF_8);&#10;        return &quot;redirect:/board/&quot; + encodedCat; // 저장 후 목록으로&#10;    }&#10;&#10;    /** 글 상세 보기 */&#10;    @GetMapping(&quot;/{cat}/{id}&quot;)&#10;    public String detail(@PathVariable String cat, @PathVariable Long id, Model model,Authentication auth) {&#10;        Board board = boardService.getById(id); // 존재하지 않으면 예외&#10;        if (!cat.equals(board.getCategory())) {&#10;            // URL의 카테고리와 실제 글의 카테고리가 다르면 해당 카테고리로 리다이렉트&#10;            return &quot;redirect:/board/&quot; + board.getCategory() + &quot;/&quot; + id;&#10;        }&#10;        model.addAttribute(&quot;active&quot;, &quot;home&quot;);&#10;        model.addAttribute(&quot;category&quot;, cat);&#10;        model.addAttribute(&quot;post&quot;, board);&#10;&#10;        // 댓글 목록 모델 추가&#10;        model.addAttribute(&quot;comments&quot;, commentService.getCommentsByBoardId(id));&#10;&#10;        Optional&lt;Groups&gt; groupOpt = groupService.getGroupByBoardId(id);&#10;        if (groupOpt.isPresent()) {&#10;            Groups group = groupOpt.get();&#10;            model.addAttribute(&quot;group&quot;, group);&#10;&#10;            // 로그인한 경우 사용자 상태 확인&#10;            if (auth != null &amp;&amp; auth.getPrincipal() instanceof CustomUser) {&#10;                CustomUser currentUser = (CustomUser) auth.getPrincipal();&#10;                boolean isMember = groupService.isMember(currentUser.getId(), group.getId());&#10;                boolean isLeader = groupService.isLeader(currentUser.getId(), group.getId());&#10;                boolean hasPendingRequest = joinRequestService.hasPendingRequest(currentUser.getId(), group.getId());&#10;&#10;                model.addAttribute(&quot;isMember&quot;, isMember);&#10;                model.addAttribute(&quot;isLeader&quot;, isLeader);&#10;                model.addAttribute(&quot;hasPendingRequest&quot;, hasPendingRequest);&#10;            }&#10;        }&#10;        return &quot;board-detail&quot;;&#10;    }&#10;&#10;    /** 글 수정 폼 */&#10;    @GetMapping(&quot;/{cat}/{id}/edit&quot;)&#10;    public String editForm(@PathVariable String cat, @PathVariable Long id, Model model, Authentication auth) {&#10;        Board board = boardService.getById(id);&#10;        if (!cat.equals(board.getCategory())) {&#10;            return &quot;redirect:/board/&quot; + board.getCategory() + &quot;/&quot; + id + &quot;/edit&quot;;&#10;        }&#10;        model.addAttribute(&quot;active&quot;, &quot;home&quot;);&#10;        model.addAttribute(&quot;category&quot;, cat);&#10;        model.addAttribute(&quot;post&quot;, board);&#10;        model.addAttribute(&quot;authorName&quot;, board.getAuthorName());&#10;        model.addAttribute(&quot;isEdit&quot;, true);  // 수정 모드&#10;        return &quot;board-form&quot;;&#10;    }&#10;&#10;    /** 글 수정 처리 */&#10;    @PostMapping(&quot;/{cat}/{id}/edit&quot;)&#10;    public String editSubmit(&#10;            @PathVariable String cat,&#10;            @PathVariable Long id,&#10;            @RequestParam String title,&#10;            @RequestParam String content,&#10;            @RequestParam(required = false) String location,&#10;            @RequestParam(required = false) @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME) LocalDateTime meetingStartTime,&#10;            @RequestParam(required = false) @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME) LocalDateTime meetingEndTime,&#10;            @RequestParam(required = false) Integer limitCount&#10;    ) {&#10;        boardService.updatePost(id, title, content, location, meetingStartTime, meetingEndTime, limitCount);&#10;        String encodedCat = URLEncoder.encode(cat, StandardCharsets.UTF_8);&#10;        return &quot;redirect:/board/&quot; + encodedCat + &quot;/&quot; + id; // 수정 후 상세페이지로&#10;    }&#10;&#10;    /** 글 삭제 */&#10;    @PostMapping(&quot;/{cat}/{id}/delete&quot;)&#10;    public String delete(@PathVariable String cat, @PathVariable Long id) {&#10;        boardService.delete(id);&#10;        String encodedCat = URLEncoder.encode(cat, StandardCharsets.UTF_8);&#10;        return &quot;redirect:/board/&quot; + encodedCat;&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/SYUcap/src/main/java/com/SYUcap/SYUcap/Comment/CommentController.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/SYUcap/src/main/java/com/SYUcap/SYUcap/Comment/CommentController.java" />
              <option name="updatedContent" value="package com.SYUcap.SYUcap.Comment;&#10;&#10;import com.SYUcap.SYUcap.User.CustomUser;&#10;import lombok.RequiredArgsConstructor;&#10;import org.springframework.security.core.Authentication;&#10;import org.springframework.stereotype.Controller;&#10;import org.springframework.web.bind.annotation.PathVariable;&#10;import org.springframework.web.bind.annotation.PostMapping;&#10;import org.springframework.web.bind.annotation.RequestMapping;&#10;import org.springframework.web.bind.annotation.RequestParam;&#10;&#10;import java.net.URLEncoder;&#10;import java.nio.charset.StandardCharsets;&#10;&#10;@Controller&#10;@RequiredArgsConstructor&#10;@RequestMapping(&quot;/board&quot;)&#10;public class CommentController {&#10;&#10;    private final CommentService commentService;&#10;&#10;    @PostMapping(&quot;/{cat}/{id}/comment&quot;)&#10;    public String addComment(@PathVariable(&quot;cat&quot;) String category,&#10;                             @PathVariable(&quot;id&quot;) Long boardId,&#10;                             @RequestParam(&quot;content&quot;) String content,&#10;                             Authentication auth) {&#10;        String authorName = &quot;익명&quot;;&#10;        if (auth != null &amp;&amp; auth.getPrincipal() instanceof CustomUser cu) {&#10;            authorName = cu.getUserName();&#10;        }&#10;        commentService.createComment(boardId, content, authorName);&#10;        String encodedCat = URLEncoder.encode(category, StandardCharsets.UTF_8);&#10;        return &quot;redirect:/board/&quot; + encodedCat + &quot;/&quot; + boardId;&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/SYUcap/src/main/resources/static/mypage.css">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/SYUcap/src/main/resources/static/mypage.css" />
              <option name="updatedContent" value="/* 마이페이지 전용 스타일 */&#10;* {&#10;    margin: 0;&#10;    padding: 0;&#10;    box-sizing: border-box;&#10;}&#10;&#10;body {&#10;    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;&#10;    background: #f5f5f5;&#10;    min-height: 100vh;&#10;    padding: 20px;&#10;}&#10;&#10;.card {&#10;    max-width: 400px;&#10;    margin: 0 auto;&#10;    background: white;&#10;    border-radius: 12px;&#10;    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);&#10;    padding: 24px;&#10;    position: relative;&#10;}&#10;&#10;h1 {&#10;    font-size: 24px;&#10;    font-weight: 600;&#10;    color: #333;&#10;    text-align: center;&#10;    margin-bottom: 24px;&#10;}&#10;&#10;/* 탭 스타일 */&#10;.tabs {&#10;    display: flex;&#10;    border-bottom: 1px solid #e9ecef;&#10;    margin-bottom: 24px;&#10;}&#10;&#10;.tabs a {&#10;    flex: 1;&#10;    padding: 12px 16px;&#10;    text-decoration: none;&#10;    color: #6c757d;&#10;    text-align: center;&#10;    border-bottom: 2px solid transparent;&#10;    transition: all 0.2s;&#10;}&#10;&#10;.tabs a.active {&#10;    color: #007bff;&#10;    border-bottom-color: #007bff;&#10;    font-weight: 500;&#10;}&#10;&#10;.tabs a:hover {&#10;    color: #007bff;&#10;    background: #f8f9fa;&#10;}&#10;&#10;/* 아바타 스타일 */&#10;.avatar-wrap {&#10;    display: flex;&#10;    justify-content: center;&#10;    margin-bottom: 32px;&#10;    position: relative;&#10;}&#10;&#10;.avatar {&#10;    width: 80px;&#10;    height: 80px;&#10;    border-radius: 50%;&#10;    background: #e9ecef;&#10;    display: flex;&#10;    align-items: center;&#10;    justify-content: center;&#10;}&#10;&#10;.avatar.placeholder {&#10;    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);&#10;}&#10;&#10;.avatar svg {&#10;    fill: white;&#10;}&#10;&#10;.edit-badge {&#10;    position: absolute;&#10;    bottom: 4px;&#10;    right: calc(50% - 48px);&#10;    width: 28px;&#10;    height: 28px;&#10;    background: white;&#10;    border-radius: 50%;&#10;    display: flex;&#10;    align-items: center;&#10;    justify-content: center;&#10;    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);&#10;    cursor: pointer;&#10;    transition: transform 0.2s;&#10;}&#10;&#10;.edit-badge:hover {&#10;    transform: scale(1.1);&#10;}&#10;&#10;/* 폼 요소들 */&#10;.row {&#10;    display: flex;&#10;    align-items: center;&#10;    margin-bottom: 16px;&#10;    gap: 12px;&#10;}&#10;&#10;.label {&#10;    width: 80px;&#10;    font-weight: 500;&#10;    color: #495057;&#10;    font-size: 14px;&#10;}&#10;&#10;.input {&#10;    flex: 1;&#10;    padding: 10px 12px;&#10;    border: 1px solid #dee2e6;&#10;    border-radius: 6px;&#10;    font-size: 14px;&#10;    background: #f8f9fa;&#10;    color: #6c757d;&#10;}&#10;&#10;.input:focus {&#10;    outline: none;&#10;    border-color: #007bff;&#10;    background: white;&#10;    color: #333;&#10;}&#10;&#10;.btn {&#10;    padding: 8px 16px;&#10;    border: 1px solid #007bff;&#10;    border-radius: 6px;&#10;    background: white;&#10;    color: #007bff;&#10;    font-size: 12px;&#10;    font-weight: 500;&#10;    cursor: pointer;&#10;    transition: all 0.2s;&#10;    white-space: nowrap;&#10;}&#10;&#10;.btn:hover {&#10;    background: #007bff;&#10;    color: white;&#10;}&#10;&#10;.btn-primary {&#10;    background: #007bff;&#10;    color: white;&#10;}&#10;&#10;.btn-primary:hover {&#10;    background: #0056b3;&#10;}&#10;&#10;.btn-danger {&#10;    border-color: #dc3545;&#10;    color: #dc3545;&#10;}&#10;&#10;.btn-danger:hover {&#10;    background: #dc3545;&#10;    color: white;&#10;}&#10;&#10;/* 로그아웃 버튼 */&#10;.logout {&#10;    width: 100%;&#10;    padding: 12px;&#10;    border: none;&#10;    border-radius: 8px;&#10;    background: #dc3545;&#10;    color: white;&#10;    font-weight: 500;&#10;    cursor: pointer;&#10;    margin-top: 24px;&#10;    transition: background 0.2s;&#10;}&#10;&#10;.logout:hover {&#10;    background: #c82333;&#10;}&#10;&#10;/* 네비게이션 바 */&#10;.bottom-nav {&#10;    position: fixed;&#10;    bottom: 0;&#10;    left: 0;&#10;    right: 0;&#10;    background: white;&#10;    border-top: 1px solid #dee2e6;&#10;    display: flex;&#10;    padding: 12px 0;&#10;}&#10;&#10;.nav-item {&#10;    flex: 1;&#10;    display: flex;&#10;    flex-direction: column;&#10;    align-items: center;&#10;    text-decoration: none;&#10;    color: #6c757d;&#10;    font-size: 12px;&#10;    gap: 4px;&#10;}&#10;&#10;.nav-item.active {&#10;    color: #007bff;&#10;}&#10;&#10;.nav-item svg {&#10;    width: 24px;&#10;    height: 24px;&#10;}&#10;&#10;/* 설정 페이지 전용 스타일 */&#10;.settings-section {&#10;    margin-bottom: 24px;&#10;}&#10;&#10;.settings-section h3 {&#10;    font-size: 16px;&#10;    font-weight: 600;&#10;    color: #333;&#10;    margin-bottom: 16px;&#10;    padding-bottom: 8px;&#10;    border-bottom: 1px solid #e9ecef;&#10;}&#10;&#10;.setting-item {&#10;    display: flex;&#10;    justify-content: space-between;&#10;    align-items: center;&#10;    padding: 12px 0;&#10;    border-bottom: 1px solid #f8f9fa;&#10;}&#10;&#10;.setting-item:last-child {&#10;    border-bottom: none;&#10;}&#10;&#10;.setting-label {&#10;    font-size: 14px;&#10;    color: #333;&#10;}&#10;&#10;.setting-description {&#10;    font-size: 12px;&#10;    color: #6c757d;&#10;    margin-top: 2px;&#10;}&#10;&#10;.toggle {&#10;    position: relative;&#10;    width: 44px;&#10;    height: 24px;&#10;    background: #dee2e6;&#10;    border-radius: 12px;&#10;    cursor: pointer;&#10;    transition: background 0.2s;&#10;}&#10;&#10;.toggle.active {&#10;    background: #007bff;&#10;}&#10;&#10;.toggle::after {&#10;    content: '';&#10;    position: absolute;&#10;    top: 2px;&#10;    left: 2px;&#10;    width: 20px;&#10;    height: 20px;&#10;    background: white;&#10;    border-radius: 50%;&#10;    transition: transform 0.2s;&#10;}&#10;&#10;.toggle.active::after {&#10;    transform: translateX(20px);&#10;}&#10;&#10;/* 반응형 디자인 */&#10;@media (max-width: 480px) {&#10;    body {&#10;        padding: 12px;&#10;    }&#10;    &#10;    .card {&#10;        padding: 20px;&#10;    }&#10;    &#10;    .row {&#10;        flex-direction: column;&#10;        align-items: stretch;&#10;        gap: 8px;&#10;    }&#10;    &#10;    .label {&#10;        width: 100%;&#10;    }&#10;    &#10;    .btn {&#10;        align-self: flex-end;&#10;        margin-top: 4px;&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/SYUcap/src/main/resources/templates/board-detail.html">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/SYUcap/src/main/resources/templates/board-detail.html" />
              <option name="originalContent" value="&lt;!DOCTYPE html&gt;&#10;&lt;html lang=&quot;ko&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;&#10;&lt;head&gt;&#10;    &lt;meta charset=&quot;UTF-8&quot;&gt;&#10;    &lt;title th:text=&quot;${post.title}&quot;&gt;게시글 상세&lt;/title&gt;&#10;    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/app.css}&quot;&gt;&#10;&lt;/head&gt;&#10;&lt;body&gt;&#10;&#10;&lt;header class=&quot;topbar&quot;&gt;&#10;    &lt;div class=&quot;left&quot;&gt;&lt;/div&gt;&#10;    &lt;h1 th:text=&quot;${category} + ' 게시판'&quot;&gt;게시판&lt;/h1&gt;&#10;&lt;/header&gt;&#10;&#10;&lt;main class=&quot;container&quot;&gt;&#10;    &lt;section class=&quot;card&quot;&gt;&#10;        &lt;h2 th:text=&quot;${post.title}&quot;&gt;제목&lt;/h2&gt;&#10;        &lt;p class=&quot;muted&quot;&gt;&#10;            작성자: &lt;span th:text=&quot;${post.authorName}&quot;&gt;익명&lt;/span&gt; ·&#10;            작성일: &lt;span th:text=&quot;${#temporals.format(post.createdAt, 'yyyy-MM-dd HH:mm')}&quot;&gt;2025-01-01&lt;/span&gt;&#10;        &lt;/p&gt;&#10;        &lt;p&gt;&lt;b&gt;장소:&lt;/b&gt; &lt;span th:text=&quot;${post.location} ?: '-'&quot;&gt;-&lt;/span&gt;&lt;/p&gt;&#10;        &lt;p&gt;&#10;            &lt;b&gt;일정:&lt;/b&gt;&#10;            &lt;span th:text=&quot;${post.meetingStartTime != null ? #temporals.format(post.meetingStartTime, 'MM/dd HH:mm') : '-'}&quot;&gt;-&lt;/span&gt;&#10;            &lt;span th:text=&quot;${post.meetingEndTime != null ? ' ~ ' + #temporals.format(post.meetingEndTime, 'MM/dd HH:mm') : ''}&quot;&gt;&lt;/span&gt;&#10;        &lt;/p&gt;&#10;        &lt;p&gt;&lt;b&gt;제한 인원:&lt;/b&gt; &lt;span th:text=&quot;${post.limitCount != null ? post.limitCount : '-'}&quot;&gt;-&lt;/span&gt;&lt;/p&gt;&#10;&#10;        &lt;hr&gt;&#10;        &lt;div th:text=&quot;${post.content}&quot;&gt;내용&lt;/div&gt;&#10;&#10;        &lt;hr&gt;&#10;&#10;        &lt;div class=&quot;comment-form&quot;&gt;&#10;            &lt;h4&gt;댓글 쓰기&lt;/h4&gt;&#10;            &lt;form th:action=&quot;@{/board/{cat}/{id}/comment(cat=${category}, id=${post.id})}&quot; method=&quot;post&quot;&gt;&#10;                &lt;textarea name=&quot;content&quot; rows=&quot;3&quot; placeholder=&quot;댓글을 입력하세요...&quot; required style=&quot;width: 95%;&quot;&gt;&lt;/textarea&gt;&#10;                &lt;div class=&quot;form-actions&quot; style=&quot;text-align: right; margin-top: 8px;&quot;&gt;&#10;                    &lt;button type=&quot;submit&quot; class=&quot;qa-btn&quot;&gt;등록&lt;/button&gt;&#10;                &lt;/div&gt;&#10;            &lt;/form&gt;&#10;        &lt;/div&gt;&#10;&#10;        &lt;div class=&quot;comment-list&quot; style=&quot;margin-top: 20px;&quot;&gt;&#10;            &lt;h4&gt;댓글 목록&lt;/h4&gt;&#10;&#10;            &lt;div th:if=&quot;${!comments.isEmpty()}&quot; th:each=&quot;comment : ${comments}&quot; class=&quot;comment-item&quot; style=&quot;border-bottom: 1px solid #eee; padding-bottom: 10px; margin-bottom: 10px;&quot;&gt;&#10;                &lt;p style=&quot;margin-bottom: 4px;&quot;&gt;&#10;                    &lt;strong th:text=&quot;${comment.authorName}&quot;&gt;작성자&lt;/strong&gt;&#10;                    &lt;span classs=&quot;muted&quot; style=&quot;font-size: 0.9em; color: #777; margin-left: 10px;&quot;&#10;                          th:text=&quot;${#temporals.format(comment.createdAt, 'yyyy-MM-dd HH:mm')}&quot;&gt;2025-01-01&lt;/span&gt;&#10;                &lt;/p&gt;&#10;                &lt;p th:text=&quot;${comment.content}&quot; style=&quot;margin-top: 0; white-space: pre-wrap;&quot;&gt;댓글 내용입니다.&lt;/p&gt;&#10;            &lt;/div&gt;&#10;&#10;            &lt;div th:if=&quot;${comments.isEmpty()}&quot;&gt;&#10;                &lt;p class=&quot;muted&quot;&gt;아직 댓글이 없습니다.&lt;/p&gt;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;&#10;&#10;        &lt;div class=&quot;form-actions&quot; style=&quot;margin-top: 20px;&quot;&gt;&#10;            &lt;a class=&quot;qa-btn&quot; th:href=&quot;@{/board/{cat}(cat=${category})}&quot;&gt;← 목록&lt;/a&gt;&#10;            &lt;form th:action=&quot;@{/board/{cat}/{id}/delete(cat=${category}, id=${post.id})}&quot; method=&quot;post&quot; style=&quot;display:inline&quot;&gt;&#10;                &lt;button type=&quot;submit&quot; class=&quot;danger&quot;&gt;삭제&lt;/button&gt;&#10;            &lt;/form&gt;&#10;        &lt;/div&gt;&#10;    &lt;/section&gt;&#10;&lt;/main&gt;&#10;&#10;&lt;footer&gt;&#10;    &lt;nav&gt;&#10;        &lt;a th:href=&quot;@{/home}&quot; th:classappend=&quot;${active}=='home' ? 'active' : ''&quot;&gt;&lt;span class=&quot;icon&quot;&gt;&lt;/span&gt;&lt;span&gt;홈&lt;/span&gt;&lt;/a&gt;&#10;        &lt;a th:href=&quot;@{/groups}&quot; th:classappend=&quot;${active}=='groups' ? 'active' : ''&quot;&gt;&lt;span class=&quot;icon&quot;&gt;&lt;/span&gt;&lt;span&gt;그룹&lt;/span&gt;&lt;/a&gt;&#10;        &lt;a th:href=&quot;@{/notifications}&quot; th:classappend=&quot;${active}=='notifications' ? 'active' : ''&quot;&gt;&lt;span class=&quot;icon&quot;&gt;&lt;/span&gt;&lt;span&gt;알림&lt;/span&gt;&lt;/a&gt;&#10;        &lt;a th:href=&quot;@{/mypage}&quot; th:classappend=&quot;${active}=='mypage' ? 'active' : ''&quot;&gt;&lt;span class=&quot;icon&quot;&gt;&lt;/span&gt;&lt;span&gt;마이&lt;/span&gt;&lt;/a&gt;&#10;    &lt;/nav&gt;&#10;&lt;/footer&gt;&#10;&#10;&lt;/body&gt;&#10;&lt;/html&gt;" />
              <option name="updatedContent" value="&lt;!DOCTYPE html&gt;&#10;&lt;html lang=&quot;ko&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;&#10;&lt;head&gt;&#10;    &lt;meta charset=&quot;UTF-8&quot;&gt;&#10;    &lt;title th:text=&quot;${post.title}&quot;&gt;게시글 상세&lt;/title&gt;&#10;    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/app.css}&quot;&gt;&#10;&lt;/head&gt;&#10;&lt;body&gt;&#10;&#10;&lt;header class=&quot;topbar&quot;&gt;&#10;    &lt;div class=&quot;left&quot;&gt;&lt;/div&gt;&#10;    &lt;h1 th:text=&quot;${category} + ' 게시판'&quot;&gt;게시판&lt;/h1&gt;&#10;&lt;/header&gt;&#10;&#10;&lt;main class=&quot;container&quot;&gt;&#10;    &lt;section class=&quot;card&quot;&gt;&#10;        &lt;h2 th:text=&quot;${post.title}&quot;&gt;제목&lt;/h2&gt;&#10;        &lt;p class=&quot;muted&quot;&gt;&#10;            작성자: &lt;span th:text=&quot;${post.authorName}&quot;&gt;익명&lt;/span&gt; ·&#10;            작성일: &lt;span th:text=&quot;${#temporals.format(post.createdAt, 'yyyy-MM-dd HH:mm')}&quot;&gt;2025-01-01&lt;/span&gt;&#10;        &lt;/p&gt;&#10;        &lt;p&gt;&lt;b&gt;장소:&lt;/b&gt; &lt;span th:text=&quot;${post.location} ?: '-'&quot;&gt;-&lt;/span&gt;&lt;/p&gt;&#10;        &lt;p&gt;&#10;            &lt;b&gt;일정:&lt;/b&gt;&#10;            &lt;span th:text=&quot;${post.meetingStartTime != null ? #temporals.format(post.meetingStartTime, 'MM/dd HH:mm') : '-'}&quot;&gt;-&lt;/span&gt;&#10;            &lt;span th:text=&quot;${post.meetingEndTime != null ? ' ~ ' + #temporals.format(post.meetingEndTime, 'MM/dd HH:mm') : ''}&quot;&gt;&lt;/span&gt;&#10;        &lt;/p&gt;&#10;        &lt;p&gt;&lt;b&gt;제한 인원:&lt;/b&gt; &lt;span th:text=&quot;${post.limitCount != null ? post.limitCount : '-'}&quot;&gt;-&lt;/span&gt;&lt;/p&gt;&#10;&#10;        &lt;hr&gt;&#10;        &lt;div th:text=&quot;${post.content}&quot;&gt;내용&lt;/div&gt;&#10;&#10;        &lt;hr&gt;&#10;&#10;        &lt;div class=&quot;comment-form&quot;&gt;&#10;            &lt;h4&gt;댓글 쓰기&lt;/h4&gt;&#10;            &lt;form th:action=&quot;@{/board/{cat}/{id}/comment(cat=${category}, id=${post.id})}&quot; method=&quot;post&quot;&gt;&#10;                &lt;textarea name=&quot;content&quot; rows=&quot;3&quot; placeholder=&quot;댓글을 입력하세요...&quot; required style=&quot;width: 95%;&quot;&gt;&lt;/textarea&gt;&#10;                &lt;div class=&quot;form-actions&quot; style=&quot;text-align: right; margin-top: 8px;&quot;&gt;&#10;                    &lt;button type=&quot;submit&quot; class=&quot;qa-btn&quot;&gt;등록&lt;/button&gt;&#10;                &lt;/div&gt;&#10;            &lt;/form&gt;&#10;        &lt;/div&gt;&#10;&#10;        &lt;div class=&quot;comment-list&quot; style=&quot;margin-top: 20px;&quot;&gt;&#10;            &lt;h4&gt;댓글 목록&lt;/h4&gt;&#10;&#10;            &lt;div th:if=&quot;${comments != null and !#lists.isEmpty(comments)}&quot; th:each=&quot;comment : ${comments}&quot; class=&quot;comment-item&quot; style=&quot;border-bottom: 1px solid #eee; padding-bottom: 10px; margin-bottom: 10px;&quot;&gt;&#10;                &lt;p style=&quot;margin-bottom: 4px;&quot;&gt;&#10;                    &lt;strong th:text=&quot;${comment.authorName}&quot;&gt;작성자&lt;/strong&gt;&#10;                    &lt;span classs=&quot;muted&quot; style=&quot;font-size: 0.9em; color: #777; margin-left: 10px;&quot;&#10;                          th:text=&quot;${#temporals.format(comment.createdAt, 'yyyy-MM-dd HH:mm')}&quot;&gt;2025-01-01&lt;/span&gt;&#10;                &lt;/p&gt;&#10;                &lt;p th:text=&quot;${comment.content}&quot; style=&quot;margin-top: 0; white-space: pre-wrap;&quot;&gt;댓글 내용입니다.&lt;/p&gt;&#10;            &lt;/div&gt;&#10;&#10;            &lt;div th:if=&quot;${comments == null or #lists.isEmpty(comments)}&quot;&gt;&#10;                &lt;p class=&quot;muted&quot;&gt;아직 댓글이 없습니다.&lt;/p&gt;&#10;            &lt;/div&gt;&#10;        &lt;/div&gt;&#10;&#10;&#10;        &lt;div class=&quot;form-actions&quot; style=&quot;margin-top: 20px;&quot;&gt;&#10;            &lt;a class=&quot;qa-btn&quot; th:href=&quot;@{/board/{cat}(cat=${category})}&quot;&gt;← 목록&lt;/a&gt;&#10;            &lt;form th:action=&quot;@{/board/{cat}/{id}/delete(cat=${category}, id=${post.id})}&quot; method=&quot;post&quot; style=&quot;display:inline&quot;&gt;&#10;                &lt;button type=&quot;submit&quot; class=&quot;danger&quot;&gt;삭제&lt;/button&gt;&#10;            &lt;/form&gt;&#10;        &lt;/div&gt;&#10;    &lt;/section&gt;&#10;&lt;/main&gt;&#10;&#10;&lt;footer&gt;&#10;    &lt;nav&gt;&#10;        &lt;a th:href=&quot;@{/home}&quot; th:classappend=&quot;${active}=='home' ? 'active' : ''&quot;&gt;&lt;span class=&quot;icon&quot;&gt;&lt;/span&gt;&lt;span&gt;홈&lt;/span&gt;&lt;/a&gt;&#10;        &lt;a th:href=&quot;@{/groups}&quot; th:classappend=&quot;${active}=='groups' ? 'active' : ''&quot;&gt;&lt;span class=&quot;icon&quot;&gt;&lt;/span&gt;&lt;span&gt;그룹&lt;/span&gt;&lt;/a&gt;&#10;        &lt;a th:href=&quot;@{/notifications}&quot; th:classappend=&quot;${active}=='notifications' ? 'active' : ''&quot;&gt;&lt;span class=&quot;icon&quot;&gt;&lt;/span&gt;&lt;span&gt;알림&lt;/span&gt;&lt;/a&gt;&#10;        &lt;a th:href=&quot;@{/mypage}&quot; th:classappend=&quot;${active}=='mypage' ? 'active' : ''&quot;&gt;&lt;span class=&quot;icon&quot;&gt;&lt;/span&gt;&lt;span&gt;마이&lt;/span&gt;&lt;/a&gt;&#10;    &lt;/nav&gt;&#10;&lt;/footer&gt;&#10;&#10;&lt;/body&gt;&#10;&lt;/html&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/SYUcap/src/main/resources/templates/recent-posts.html">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/SYUcap/src/main/resources/templates/recent-posts.html" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/SYUcap/src/test/java/com/SYUcap/SYUcap/User/UserServiceTest.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/SYUcap/src/test/java/com/SYUcap/SYUcap/User/UserServiceTest.java" />
              <option name="originalContent" value="package com.SYUcap.SYUcap.User;&#10;&#10;import org.junit.jupiter.api.DisplayName;&#10;import org.junit.jupiter.api.Test;&#10;import org.junit.jupiter.api.extension.ExtendWith;&#10;import org.mockito.ArgumentCaptor;&#10;import org.mockito.InjectMocks;&#10;import org.mockito.Mock;&#10;import org.mockito.junit.jupiter.MockitoExtension;&#10;&#10;import java.util.Optional;&#10;&#10;import static org.junit.jupiter.api.Assertions.*;&#10;import static org.mockito.Mockito.*;&#10;&#10;@ExtendWith(MockitoExtension.class)&#10;class UserServiceTest {&#10;&#10;    @Mock&#10;    UserRepository userRepository;&#10;    @Mock&#10;    org.springframework.security.crypto.password.PasswordEncoder passwordEncoder;&#10;&#10;    @InjectMocks&#10;    UserService userService;&#10;&#10;    private Users makeUser(String userId) {&#10;        Users u = new Users();&#10;        u.setUserId(userId);&#10;        u.setPassword(&quot;HASH&quot;);&#10;        u.setUserName(&quot;이름&quot;);&#10;        return u;&#10;    }&#10;&#10;    @Test&#10;    @DisplayName(&quot;addUser 실패: 아이디 중복&quot;)&#10;    void addUser_duplicateId_fail() {&#10;        // given&#10;        String userId = &quot;dupUser&quot;;&#10;        when(userRepository.findByUserId(userId)).thenReturn(Optional.of(makeUser(userId)));&#10;&#10;        // when &amp; then&#10;        assertThrows(IllegalArgumentException.class, () -&gt;&#10;                userService.addUser(userId, &quot;Pwd!123&quot;, &quot;이름&quot;, &quot;Pwd!123&quot;)&#10;        );&#10;        verify(userRepository, never()).save(any());&#10;        verify(passwordEncoder, never()).encode(any());&#10;    }&#10;&#10;    @Test&#10;    @DisplayName(&quot;addUser 실패: 아이디에 제어문자 포함&quot;)&#10;    void addUser_invalidUserIdControl_fail() {&#10;        // given&#10;        String badId = &quot;bad\nId&quot;;&#10;&#10;        // when &amp; then&#10;        assertThrows(IllegalArgumentException.class, () -&gt;&#10;                userService.addUser(badId, &quot;GoodPwd!1&quot;, &quot;이름&quot;, &quot;GoodPwd!1&quot;)&#10;        );&#10;        verify(userRepository, never()).findByUserId(badId); // 형식검사에서 바로 실패&#10;    }&#10;&#10;    @Test&#10;    @DisplayName(&quot;addUser 실패: 비밀번호 제어문자 포함&quot;)&#10;    void addUser_passwordControl_fail() {&#10;        // given&#10;        String userId = &quot;cleanId&quot;;&#10;        when(userRepository.findByUserId(userId)).thenReturn(Optional.empty());&#10;        String badPwd = &quot;Good\tPwd!1&quot;;&#10;&#10;        // when &amp; then&#10;        assertThrows(IllegalArgumentException.class, () -&gt;&#10;                userService.addUser(userId, badPwd, &quot;이름&quot;, badPwd)&#10;        );&#10;        verify(passwordEncoder, never()).encode(any());&#10;    }&#10;&#10;    @Test&#10;    @DisplayName(&quot;addUser 실패: 비밀번호 길이 초과&quot;)&#10;    void addUser_passwordTooLong_fail() {&#10;        // given&#10;        String userId = &quot;userLong&quot;;&#10;        when(userRepository.findByUserId(userId)).thenReturn(Optional.empty());&#10;        String longPwd = &quot;A!123456789012345&quot;; // 17자&#10;&#10;        // when &amp; then&#10;        assertThrows(IllegalArgumentException.class, () -&gt;&#10;                userService.addUser(userId, longPwd, &quot;이름&quot;, longPwd)&#10;        );&#10;        verify(passwordEncoder, never()).encode(any());&#10;    }&#10;&#10;    @Test&#10;    @DisplayName(&quot;addUser 실패: 비밀번호 특수문자 없음&quot;)&#10;    void addUser_passwordNoSpecial_fail() {&#10;        // given&#10;        String userId = &quot;userNoSpecial&quot;;&#10;        when(userRepository.findByUserId(userId)).thenReturn(Optional.empty());&#10;        String pwd = &quot;Password1&quot;; // 특수문자 없음&#10;&#10;        // when &amp; then&#10;        assertThrows(IllegalArgumentException.class, () -&gt;&#10;                userService.addUser(userId, pwd, &quot;이름&quot;, pwd)&#10;        );&#10;    }&#10;&#10;    @Test&#10;    @DisplayName(&quot;addUser 실패: 비밀번호 확인 불일치&quot;)&#10;    void addUser_passwordConfirmMismatch_fail() {&#10;        // given&#10;        String userId = &quot;userMismatch&quot;;&#10;        when(userRepository.findByUserId(userId)).thenReturn(Optional.empty());&#10;        String pwd = &quot;Pwd!123&quot;;&#10;        String confirm = &quot;Pwd!1234&quot;;&#10;&#10;        // when &amp; then&#10;        assertThrows(IllegalArgumentException.class, () -&gt;&#10;                userService.addUser(userId, pwd, &quot;이름&quot;, confirm)&#10;        );&#10;        verify(passwordEncoder, never()).encode(any());&#10;    }&#10;&#10;    @Test&#10;    @DisplayName(&quot;addUser 실패: 아이디 공백 포함&quot;)&#10;    void addUser_userIdContainsSpace_fail() {&#10;        // given&#10;        String userId = &quot;bad id&quot;;&#10;        // when &amp; then&#10;        assertThrows(IllegalArgumentException.class, () -&gt;&#10;                userService.addUser(userId, &quot;GoodPwd!1&quot;, &quot;이름&quot;, &quot;GoodPwd!1&quot;)&#10;        );&#10;        verify(userRepository, never()).findByUserId(any());&#10;    }&#10;}" />
              <option name="updatedContent" value="package com.SYUcap.SYUcap.User;&#10;&#10;import org.junit.jupiter.api.DisplayName;&#10;import org.junit.jupiter.api.Test;&#10;import org.junit.jupiter.api.extension.ExtendWith;&#10;import org.junit.jupiter.api.function.Executable;&#10;import org.mockito.ArgumentCaptor;&#10;import org.mockito.InjectMocks;&#10;import org.mockito.Mock;&#10;import org.mockito.junit.jupiter.MockitoExtension;&#10;&#10;import java.util.Optional;&#10;&#10;import static org.junit.jupiter.api.Assertions.*;&#10;import static org.mockito.Mockito.*;&#10;&#10;@ExtendWith(MockitoExtension.class)&#10;class UserServiceTest {&#10;&#10;    @Mock&#10;    UserRepository userRepository;&#10;    @Mock&#10;    org.springframework.security.crypto.password.PasswordEncoder passwordEncoder;&#10;&#10;    @InjectMocks&#10;    UserService userService;&#10;&#10;    private Users makeUser(String userId) {&#10;        Users u = new Users();&#10;        u.setUserId(userId);&#10;        u.setPassword(&quot;HASH&quot;);&#10;        u.setUserName(&quot;이름&quot;);&#10;        return u;&#10;    }&#10;&#10;    @Test&#10;    @DisplayName(&quot;addUser 성공: 중복 없음 + 규칙 만족&quot;)&#10;    void addUser_success() {&#10;        // given&#10;        String userId = &quot;validUser&quot;;&#10;        String rawPwd = &quot;GoodPwd!1&quot;;&#10;        String confirm = &quot;GoodPwd!1&quot;;&#10;        String name = &quot;홍길동&quot;;&#10;        when(userRepository.findByUserId(userId)).thenReturn(Optional.empty());&#10;        when(passwordEncoder.encode(rawPwd)).thenReturn(&quot;ENC_HASH&quot;);&#10;&#10;        // when&#10;        userService.addUser(userId, rawPwd, name, confirm);&#10;&#10;        // then&#10;        ArgumentCaptor&lt;Users&gt; captor = ArgumentCaptor.forClass(Users.class);&#10;        verify(userRepository, times(1)).save(captor.capture());&#10;        Users saved = captor.getValue();&#10;        assertEquals(userId, saved.getUserId());&#10;        assertEquals(&quot;ENC_HASH&quot;, saved.getPassword());&#10;        assertEquals(name, saved.getUserName());&#10;        verify(passwordEncoder, times(1)).encode(rawPwd);&#10;    }&#10;&#10;    @Test&#10;    @DisplayName(&quot;addUser 실패: 아이디 중복&quot;)&#10;    void addUser_duplicateId_fail() {&#10;        // given&#10;        String userId = &quot;dupUser&quot;;&#10;        Users existing = new Users();&#10;        existing.setUserId(userId);&#10;        existing.setPassword(&quot;EXIST_HASH&quot;);&#10;        existing.setUserName(&quot;기존사용자&quot;);&#10;        when(userRepository.findByUserId(userId)).thenReturn(Optional.of(existing));&#10;&#10;        // when&#10;        Executable act = () -&gt; userService.addUser(userId, &quot;Pwd!123&quot;, &quot;새사용자&quot;, &quot;Pwd!123&quot;);&#10;&#10;        // then&#10;        assertThrows(IllegalArgumentException.class, act);&#10;        verify(userRepository, never()).save(any());&#10;        verify(passwordEncoder, never()).encode(any());&#10;    }&#10;&#10;    @Test&#10;    @DisplayName(&quot;addUser 실패: 아이디에 제어문자 포함&quot;)&#10;    void addUser_invalidUserIdControl_fail() {&#10;        // given&#10;        String badId = &quot;bad\nId&quot;;&#10;&#10;        // when&#10;        Executable act = () -&gt; userService.addUser(badId, &quot;GoodPwd!1&quot;, &quot;이름&quot;, &quot;GoodPwd!1&quot;);&#10;&#10;        // then&#10;        assertThrows(IllegalArgumentException.class, act);&#10;        verify(userRepository, never()).findByUserId(anyString());&#10;    }&#10;&#10;    @Test&#10;    @DisplayName(&quot;addUser 실패: 비밀번호 제어문자 포함&quot;)&#10;    void addUser_passwordControl_fail() {&#10;        // given&#10;        String userId = &quot;cleanId&quot;;&#10;        when(userRepository.findByUserId(userId)).thenReturn(Optional.empty());&#10;        String badPwd = &quot;Good\tPwd!1&quot;;&#10;&#10;        // when&#10;        Executable act = () -&gt; userService.addUser(userId, badPwd, &quot;이름&quot;, badPwd);&#10;&#10;        // then&#10;        assertThrows(IllegalArgumentException.class, act);&#10;        verify(passwordEncoder, never()).encode(any());&#10;    }&#10;&#10;    @Test&#10;    @DisplayName(&quot;addUser 실패: 비밀번호 길이 초과&quot;)&#10;    void addUser_passwordTooLong_fail() {&#10;        // given&#10;        String userId = &quot;userLong&quot;;&#10;        when(userRepository.findByUserId(userId)).thenReturn(Optional.empty());&#10;        String longPwd = &quot;A!123456789012345&quot;; // 17자&#10;&#10;        // when&#10;        Executable act = () -&gt; userService.addUser(userId, longPwd, &quot;이름&quot;, longPwd);&#10;&#10;        // then&#10;        assertThrows(IllegalArgumentException.class, act);&#10;        verify(passwordEncoder, never()).encode(any());&#10;    }&#10;&#10;    @Test&#10;    @DisplayName(&quot;addUser 실패: 비밀번호 특수문자 없음&quot;)&#10;    void addUser_passwordNoSpecial_fail() {&#10;        // given&#10;        String userId = &quot;userNoSpecial&quot;;&#10;        when(userRepository.findByUserId(userId)).thenReturn(Optional.empty());&#10;        String pwd = &quot;Password1&quot;; // 특수문자 없음&#10;&#10;        // when&#10;        Executable act = () -&gt; userService.addUser(userId, pwd, &quot;이름&quot;, pwd);&#10;&#10;        // then&#10;        assertThrows(IllegalArgumentException.class, act);&#10;    }&#10;&#10;    @Test&#10;    @DisplayName(&quot;addUser 실패: 비밀번호 확인 불일치&quot;)&#10;    void addUser_passwordConfirmMismatch_fail() {&#10;        // given&#10;        String userId = &quot;userMismatch&quot;;&#10;        when(userRepository.findByUserId(userId)).thenReturn(Optional.empty());&#10;        String pwd = &quot;Pwd!123&quot;;&#10;        String confirm = &quot;Pwd!1234&quot;;&#10;&#10;        // when&#10;        Executable act = () -&gt; userService.addUser(userId, pwd, &quot;이름&quot;, confirm);&#10;&#10;        // then&#10;        assertThrows(IllegalArgumentException.class, act);&#10;        verify(passwordEncoder, never()).encode(any());&#10;    }&#10;&#10;    @Test&#10;    @DisplayName(&quot;addUser 실패: 아이디 공백 포함&quot;)&#10;    void addUser_userIdContainsSpace_fail() {&#10;        // given&#10;        String userId = &quot;bad id&quot;;&#10;&#10;        // when&#10;        Executable act = () -&gt; userService.addUser(userId, &quot;GoodPwd!1&quot;, &quot;이름&quot;, &quot;GoodPwd!1&quot;);&#10;&#10;        // then&#10;        assertThrows(IllegalArgumentException.class, act);&#10;        verify(userRepository, never()).findByUserId(any());&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>